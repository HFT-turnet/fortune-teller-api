{
  "country": "Deutschland",
  "title": "Tax Calculation",
  "comment1": "Berechnung Tarif und verbleibende Zahllast.",
  "input": [
	{
	  "label": "zv_einkommen",
	  "obligatory": "no"
	},
	{
	  "label":"tarifliche_est",
	  "obligatory":"no"
	},
	{
		"label":"haushaltsnaheDL",
		"obligatory":"no"
	},
	{
		"label":"handwerkerDL",
		"obligatory":"no"
	}
  ],
  "estTarif": {
	"2024": [
					{
						"type":"steppercent",
                        "base":"zv_einkommen",
						"from":"11604",
						"to":"17005",
						"label":"y",
						"var":"0.0001"
					},
					{
						"type":"multiply",
                        "base":"y",
						"from":"0",
						"to":"99999",
						"label":"y1",
						"var":"922.98"
					},
					{
						"type":"addabsolute",
                        "base":"y1",
						"from":"0",
						"to":"99999",
						"label":"y1",
						"var":"1400"
					},
					{
						"type":"multiply",
                        "base":"y1",
						"from":"0",
						"to":"99999",
						"label":"tarifliche_est",
						"labelvar":"y"
					},
					{
						"type":"steppercent",
                        "base":"zv_einkommen",
						"from":"17006",
						"to":"66760",
						"label":"z",
						"var":"0.0001"
					},
					{
						"type":"multiply",
                        "base":"z",
						"from":"0",
						"to":"99999",
						"label":"z1",
						"var":"181.19"
					},
					{
						"type":"addabsolute",
                        "base":"z1",
						"from":"1",
						"to":"99999",
						"label":"z1",
						"var":"2397"
					},
					{
						"type":"multiply",
                        "base":"z1",
						"from":"0",
						"to":"99999",
						"label":"tarifliche_est",
						"labelvar":"z",
						"explain":"The y calculation already provided the amount of 1025.38, so it does not need to be added again."
					},
					{
						"type":"addabsolute",
                        "base":"zv_einkommen",
						"from":"66761",
						"to":"999999999",
						"label":"tarifliche_est",
						"var":"-17437.3610778967",
						"explain":"in this range, the y and z calculation are irrelevant and need to be deducted."
					},				
					{
						"type":"percent",
                        "base":"zv_einkommen",
						"from":"66761",
						"to":"277825",
						"label":"tarifliche_est",
						"var":"0.42"
					},
					{
						"type":"addabsolute",
                        "base":"zv_einkommen",
						"from":"66761",
						"to":"277825",
						"label":"tarifliche_est",
						"var":"-10602,13"
					},		
					{
						"type":"percent",
                        "base":"zv_einkommen",
						"from":"277825",
						"to":"999999999",
						"label":"tarifliche_est",
						"var":"0.45"
					},
					{
						"type":"addabsolute",
                        "base":"zv_einkommen",
						"from":"277826",
						"to":"999999999",
						"label":"tarifliche_est",
						"var":"-18936,88"
					},
					{
						"type":"addabsolute",
                        "base":"zv_einkommen",
						"from":"11604",
						"to":"999999999",
						"label":"tarifliche_est",
						"var":"-0.48"
					},
					{
						"type":"percent",
						"base":"tarifliche_est",
						"from":"33916",
						"to":"999999999",
						"label":"soli",
						"var":"0.055",
						"explain":"Soli is calculated above 18130 ESt. But there is a transition zone: if 11,9% on the difference between est and the free area is less.",
						"explain2":"This break-even is at x EUR upwards: 5,5%*ESt = 11,9%*(ESt-18130): ESt = 18130/(1-0,055/0,119) = 18130/0,535 = 33915,887"
					},
					{
						"type":"addition",
						"base":"tarifliche_est",
						"label":"soli_transition",
						"var":"-18130"
					},
					{
						"type":"percent",
						"base":"soli_transition",
						"from":"1",
						"to":"15786",
						"label":"soli",
						"var":"0.119",
						"explain":"33916 - 18130 = 15786."	
					}

	],
	"2023": [
		{
			"type":"steppercent",
			"base":"zv_einkommen",
			"from":"10908",
			"explain":"Different to the tax law, the lower boundary needs to be set as the upper boundary of the previous step.",
			"to":"15999",
			"label":"y",
			"var":"0.0001"
		},
		{
			"type":"multiply",
			"base":"y",
			"from":"0",
			"to":"99999",
			"label":"y1",
			"var":"979.18"
		},
		{
			"type":"addabsolute",
			"base":"y1",
			"from":"0",
			"to":"99999",
			"label":"y1",
			"var":"1400"
		},
		{
			"type":"multiply",
			"base":"y1",
			"from":"0",
			"to":"99999",
			"label":"tarifliche_est",
			"labelvar":"y"
		},
		{
			"type":"steppercent",
			"base":"zv_einkommen",
			"from":"16000",
			"to":"62809",
			"label":"z",
			"var":"0.0001"
		},
		{
			"type":"multiply",
			"base":"z",
			"from":"0",
			"to":"99999",
			"label":"z1",
			"var":"192.59"
		},
		{
			"type":"addabsolute",
			"base":"z1",
			"from":"1",
			"to":"99999",
			"label":"z1",
			"var":"2397"
		},
		{
			"type":"multiply",
			"base":"z1",
			"from":"0",
			"to":"99999",
			"label":"tarifliche_est",
			"labelvar":"z",
			"explain":"The y calculation already provided the amount of 966,53, so it does not need to be added again."
		},
		{
			"type":"addabsolute",
			"base":"zv_einkommen",
			"from":"62810",
			"to":"999999999",
			"label":"tarifliche_est",
			"var":"-16407.1093847852",
			"explain":"in this range, the y and z calculation are irrelevant and need to be deducted."
		},				
		{
			"type":"percent",
			"base":"zv_einkommen",
			"from":"62809",
			"to":"277825",
			"label":"tarifliche_est",
			"var":"0.42"
		},
		{
			"type":"addabsolute",
			"base":"zv_einkommen",
			"from":"62809",
			"to":"277825",
			"label":"tarifliche_est",
			"var":"-9972.98"
		},		
		{
			"type":"percent",
			"base":"zv_einkommen",
			"from":"277825",
			"to":"999999999",
			"label":"tarifliche_est",
			"var":"0.45"
		},
		{
			"type":"addabsolute",
			"base":"zv_einkommen",
			"from":"277826",
			"to":"999999999",
			"label":"tarifliche_est",
			"var":"-18307.73"
		},
		{
			"type":"addabsolute",
			"base":"zv_einkommen",
			"from":"10908",
			"to":"999999999",
			"label":"tarifliche_est",
			"var":"-0.48"
		},
		{
			"type":"percent",
			"base":"tarifliche_est",
			"from":"32799",
			"to":"999999999",
			"label":"soli",
			"var":"0.055",
			"explain":"Soli is calculated above 18130 ESt. But there is a transition zone: if 11,9% on the difference between est and the free area is less.",
			"explain2":"This break-even is at x EUR upwards: 5,5%*ESt = 11,9%*(ESt-17543): ESt=17543/(1-0,055/0,119) = 17543/0,535 = 32798,13"
		},
		{
			"type":"addition",
			"base":"tarifliche_est",
			"label":"soli_transition",
			"var":"-17543"
		},
		{
			"type":"percent",
			"base":"soli_transition",
			"from":"1",
			"to":"15256",
			"label":"soli",
			"var":"0.119",
			"explain":"32799 - 17543= 15256."	
		}
],
    "Disclaimer":"Frei recherchierte Formelwerte und API-Lösung im Beta-Modus. Die berechneten Werte enthalten einige Sonderregelungen nicht.Soli ist eine Grobberechnung Stand 2021.",
	"Source":"§32a ESTG http://www.gesetze-im-internet.de/estg/index.html SolZG1995 ebendort. 1.8.2021."
  },
  "festsetzung":
	{	
	  "2023": [
				  {
					  "type":"minof",
					  "base":"haushaltsnaheDL",
					  "label":"haushaltsnaheDL_limit",
					  "var":"20000"
				  },
				  {
					"type":"minof",
					"base":"handwerkerDL",
					"label":"handwerkerDL_limit",
					"var":"6000"
				  },
				  {
					"type":"addition",
					"base":"handwerkerDL_limit",
					"label":"DLausgaben",
					"labelvar":"haushaltsnaheDL_limit"
				},
				{
					"type":"divide",
					"base":"DLausgaben",
					"label":"est_zumabzug",
					"var":"5"
				},
				  {
					"type":"minof",
					"base":"est_zumabzug",
					"label":"est_abzuege",
					"labelvar":"tarifliche_est"
				  },				  
				  {
					  "type":"addition",
					  "base":"est_abzuege",
					  "part":"-1",
					  "label":"est",
					  "labelvar":"tarifliche_est"
				  },
				  {
					  "type":"percent",
					  "base":"est",
					  "from":"32799",
					  "to":"999999999",
					  "label":"soli",
					  "var":"0.055",
					  "explain":"Soli is calculated above 18130 ESt. But there is a transition zone: if 11,9% on the difference between est and the free area is less.",
					  "explain2":"This break-even is at x EUR upwards: 5,5%*ESt = 11,9%*(ESt-17543): ESt=17543/(1-0,055/0,119) = 17543/0,535 = 32798,13"
				  },
				  {
					  "type":"addition",
					  "base":"est",
					  "label":"soli_transition",
					  "var":"-17543"
				  },
				  {
					  "type":"percent",
					  "base":"soli_transition",
					  "from":"1",
					  "to":"15256",
					  "label":"soli",
					  "var":"0.119",
					  "explain":"32799 - 17543= 15256."	
				  }

			  ],
	  "Disclaimer":"Frei recherchierte Formelwerte und API-Lösung im Beta-Modus. Die berechneten Werte enthalten einige Sonderregelungen nicht.",
	  "Source":"."
  }
}
